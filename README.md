# ? Real-time Whisper Subtitles (Optimized)

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python 3.11](https://img.shields.io/badge/python-3.11-blue.svg)](https://www.python.org/downloads/release/python-3110/)
[![CUDA 12.9.0](https://img.shields.io/badge/CUDA-12.9.0-green.svg)](https://developer.nvidia.com/cuda-downloads)
[![Docker](https://img.shields.io/badge/docker-%230db7ed.svg?style=flat&logo=docker&logoColor=white)](https://www.docker.com/)

**??????????????????**

OpenAI Whisper + CUDA 12.9.0 + cuDNN????????????Web??????

## ? ????? - ??????????????????????

**????? 2.0.1 (2025-06-03) - ???**

### ???????
- ? **??????**: ??????Web???????????????????????
- ? **Audio preprocessing error**: ?????????????
- ? **noisereduce???????**: ????????????????????
- ? **???????**: `/app/data/models` ???????
- ? **UTF-8????????**: ???UTF-8???????

### ?????????
```bash
# ????????
git pull origin main

# ????????????????
chmod +x quick_fix_issues.sh
./quick_fix_issues.sh

# ????????
docker-compose down
docker-compose build --no-cache
docker-compose up -d
```

### ???????
- ? **UTF8JSONResponse**: ???????????????????JSON?????
- ? **???????????**: ??????????????????
- ? **CORS??**: ?????????????CORS??
- ? **???????**: ?????????????????

**?????????**: `curl http://localhost:8000/health`

---

## ? ????

### ? ??????????
- **WebSocket??**????????
- **Voice Activity Detection (VAD)**????????
- **GPU??**?????RTF?Real-Time Factor?< 1.0??

### ? AI????
- **OpenAI Whisper**??????tiny ? large-v3?
- **faster-whisper**????????
- **?????**???????
- **?????**?12????????

### ?? ??????????????????
- **???WebUI**?Bootstrap 5 + Font Awesome?
- **??????????**???????????
- **????????????**??????
- **??????**???????

### ? ????
- **Prometheus + Grafana**???????
- **?????????**??????????
- **????**?JSON??????
- **Docker**?????????

## ? ??????

### ????
- **GPU**: NVIDIA GPU?CUDA Compute Capability 6.0???
- **VRAM**: ??4GB???8GB???
- **RAM**: ??8GB???16GB???
- **CPU**: 4????
- **?????**: 10GB???????

### ????????
- **OS**: Ubuntu 20.04/22.04?CentOS 8+???Windows?WSL2?
- **Docker**: 20.10??
- **Docker Compose**: 2.0??
- **NVIDIA Docker**: nvidia-docker2

## ?? ????????

### 1. ?????????
```bash
git clone https://github.com/nullpox7/realtime-whisper-subtitles-optimized.git
cd realtime-whisper-subtitles-optimized
```

### 2. ????
```bash
# ??????????
cp .env.example .env

# ?????
nano .env
```

### 3. ????????
```bash
mkdir -p data/{models,outputs,logs,cache}
chmod -R 755 data/
```

### 4. Docker Compose??
```bash
# ????
docker-compose up -d

# ??????
docker-compose --profile monitoring up -d
```

### 5. ??????
????? `http://localhost:8000` ?????

## ? ???????????

### ??????????

#### ???????
```bash
# ?????????
./quick_fix_issues.sh

# ???????
docker-compose down
docker-compose build --no-cache
docker-compose up -d
```

#### ??????????
```bash
# 1. ????????
mkdir -p data/logs

# 2. ?????Linux/Mac?
chmod 755 data/logs

# 3. ?????
docker-compose restart whisper-subtitles

# 4. ??
curl http://localhost:8000/health
```

### NVIDIA Docker ??????

#### Ubuntu/Debian
```bash
# GPG???
distribution=$(. /etc/os-release;echo $ID$VERSION_ID)
curl -s -L https://nvidia.github.io/nvidia-docker/gpgkey | sudo apt-key add -
curl -s -L https://nvidia.github.io/nvidia-docker/$distribution/nvidia-docker.list | sudo tee /etc/apt/sources.list.d/nvidia-docker.list

# ???????
sudo apt-get update
sudo apt-get install -y nvidia-docker2

# Docker???
sudo systemctl restart docker
```

## ?? ??????????

### ?????
```bash
# ???
WHISPER_MODEL=large-v3
BEAM_SIZE=5
TEMPERATURE=0.0
ENABLE_WORD_TIMESTAMPS=true
```

### ????
```bash
# ??
WHISPER_MODEL=tiny
BEAM_SIZE=1
TEMPERATURE=0.2
ENABLE_WORD_TIMESTAMPS=false
```

### GPU ??????
```bash
# ?????
CUDA_MEMORY_FRACTION=0.8

# ??????
BATCH_SIZE=8  # ?????: 16

# ?????
ENABLE_QUANTIZATION=true
COMPUTE_TYPE=int8
```

## ? ?????

### Prometheus + Grafana
```bash
# ????
docker-compose --profile monitoring up -d

# ???? URL
# Prometheus: http://localhost:9090
# Grafana: http://localhost:3000 (admin/admin)
```

### ????
```bash
# ??????????
docker-compose logs -f whisper-subtitles

# ??????
tail -f data/logs/whisper_app.log

# GPU????
watch -n 1 nvidia-smi
```

## ? ??????????

?????????????????

1. ??????
2. ???????????? (`git checkout -b feature/amazing-feature`)
3. ??????? (`git commit -m 'Add amazing feature'`)
4. ????????? (`git push origin feature/amazing-feature`)
5. ?????????

## ? ?????

????????? [MIT License](LICENSE) ????????????

## ? ??

- [OpenAI Whisper](https://github.com/openai/whisper) - ????????
- [faster-whisper](https://github.com/guillaumekln/faster-whisper) - ?????
- [FastAPI](https://fastapi.tiangolo.com/) - ???Web???????
- [NVIDIA Docker](https://github.com/NVIDIA/nvidia-docker) - GPU????

## ? ????

- **?????????**: [SETUP.md](SETUP.md)
- **????**: [GitHub Issues](https://github.com/nullpox7/realtime-whisper-subtitles-optimized/issues)
- **????????**: [GitHub Discussions](https://github.com/nullpox7/realtime-whisper-subtitles-optimized/discussions)

## ? ????

?????????? [GitHub Issues](https://github.com/nullpox7/realtime-whisper-subtitles-optimized/issues) ??????????

---

**? ??????????????????????????**
